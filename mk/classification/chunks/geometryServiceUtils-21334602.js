import{l as e,a as r,ci as t}from"../main.js";import{a as i}from"./ProjectParameters-d4625086.js";async function o(i=null,o){if(e.geometryServiceUrl)return new((await import("./GeometryService-cc2c47f7.js")).default)({url:e.geometryServiceUrl});if(!i)throw new r("internal:geometry-service-url-not-configured");let a;if(a="portal"in i?i.portal||t.getDefault():i,await a.load({signal:o}),a.helperServices&&a.helperServices.geometry&&a.helperServices.geometry.url)return new((await import("./GeometryService-cc2c47f7.js")).default)({url:a.helperServices.geometry.url});throw new r("internal:geometry-service-url-not-configured")}async function a(e,t,a=null,n){const c=await o(a,n),l=new i;l.geometries=[e],l.outSpatialReference=t;const s=await c.project(l,{signal:n});if(s&&Array.isArray(s)&&1===s.length)return s[0];throw new r("internal:geometry-service-projection-failed")}export{o as create,a as projectGeometry};
