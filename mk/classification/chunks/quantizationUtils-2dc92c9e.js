import{ar as n,av as t,au as r,as as e,at as o,r as u,t as i}from"../main.js";const l=(n,t,r)=>[t,r],s=(n,t,r)=>[t,r,n[2]],a=(n,t,r)=>[t,r,n[2],n[3]];function c(n){return n?{originPosition:"upper-left"===n.originPosition?"upperLeft":"lower-left"===n.originPosition?"lowerLeft":n.originPosition,scale:n.tolerance?[n.tolerance,n.tolerance]:[1,1],translate:u(n.extent)?[n.extent.xmin,n.extent.ymax]:[0,0]}:null}function f({scale:n,translate:t},r){return Math.round((r-t[0])/n[0])}function m({scale:n,translate:t},r){return Math.round((t[1]-r)/n[1])}function h(n,t,r){const e=[];let o,u,i,l;for(let s=0;s<r.length;s++){const a=r[s];s>0?(i=f(n,a[0]),l=m(n,a[1]),i===o&&l===u||(e.push(t(a,i-o,l-u)),o=i,u=l)):(o=f(n,a[0]),u=m(n,a[1]),e.push(t(a,o,u)))}return e.length>0?e:null}function x({scale:n,translate:t},r){return r*n[0]+t[0]}function g({scale:n,translate:t},r){return t[1]-r*n[1]}function p(n,t,r){const e=new Array(r.length);if(!r.length)return e;const[o,u]=n.scale;let i=x(n,r[0][0]),l=g(n,r[0][1]);e[0]=t(r[0],i,l);for(let n=1;n<r.length;n++){const s=r[n];i+=s[0]*o,l-=s[1]*u,e[n]=t(s,i,l)}return e}function y(n,t,r){const e=new Array(r.length);for(let o=0;o<r.length;o++)e[o]=p(n,t,r[o]);return e}function z(n,t,r,e,o){return t.points=function(n,t,r,e){return h(n,r?e?a:s:e?s:l,t)}(n,r.points,e,o),t}function w(n,t,r,e,o){return t.x=f(n,r.x),t.y=m(n,r.y),t!==r&&(e&&(t.z=r.z),o&&(t.m=r.m)),t}function P(n,t,r,e,o){const u=function(n,t,r,e){const o=[],u=r?e?a:s:e?s:l;for(let r=0;r<t.length;r++){const e=h(n,u,t[r]);e&&e.length>=3&&o.push(e)}return o.length?o:null}(n,r.rings,e,o);return u?(t.rings=u,t):null}function d(n,t,r,e,o){const u=function(n,t,r,e){const o=[],u=r?e?a:s:e?s:l;for(let r=0;r<t.length;r++){const e=h(n,u,t[r]);e&&e.length>=2&&o.push(e)}return o.length?o:null}(n,r.paths,e,o);return u?(t.paths=u,t):null}function A(u,i){return u&&i?n(i)?w(u,{},i,!1,!1):t(i)?d(u,{},i,!1,!1):r(i)?P(u,{},i,!1,!1):e(i)?z(u,{},i,!1,!1):o(i)?function(n,t,r,e,o){return t.xmin=f(n,r.xmin),t.ymin=m(n,r.ymin),t.xmax=f(n,r.xmax),t.ymax=m(n,r.ymax),t!==r&&(e&&(t.zmin=r.zmin,t.zmax=r.zmax),o&&(t.mmin=r.mmin,t.mmax=r.mmax)),t}(u,{},i,!1,!1):null:null}function L(n,t,r,e,o){return u(r)&&(t.points=function(n,t,r,e){return p(n,r?e?a:s:e?s:l,t)}(n,r.points,e,o)),t}function M(n,t,r,e,o){return i(r)||(t.x=x(n,r.x),t.y=g(n,r.y),t!==r&&(e&&(t.z=r.z),o&&(t.m=r.m))),t}function j(n,t,r,e,o){return u(r)&&(t.rings=function(n,t,r,e){return y(n,r?e?a:s:e?s:l,t)}(n,r.rings,e,o)),t}function v(n,t,r,e,o){return u(r)&&(t.paths=function(n,t,r,e){return y(n,r?e?a:s:e?s:l,t)}(n,r.paths,e,o)),t}export{j as B,v as C,w as O,A as U,L as q,c as s,M as v};
