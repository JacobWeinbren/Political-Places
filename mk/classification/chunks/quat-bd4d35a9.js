import{fI as t,fJ as n,fg as a,fK as r,fL as s,fM as e,fN as o,fO as c,fP as u,fQ as f,fR as i,fS as h,f9 as M,fa as l,fT as _,f5 as m,a3 as q,A as p,fU as I}from"../main.js";function A(){return[1,0,0,0,1,0,0,0,1]}function g(t,n){return new Float64Array(t,n,9)}function P(){return[0,0,0,1]}function d(t){return[t[0],t[1],t[2],t[3]]}function b(t,n){return new Float64Array(t,n,4)}Object.freeze({__proto__:null,create:A,clone:function(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},fromValues:function(t,n,a,r,s,e,o,c,u){return[t,n,a,r,s,e,o,c,u]},createView:g});const j=[0,0,0,1];function x(t,n,a){a*=.5;const r=Math.sin(a);return t[0]=r*n[0],t[1]=r*n[1],t[2]=r*n[2],t[3]=Math.cos(a),t}function y(n,a){const r=2*Math.acos(a[3]),s=Math.sin(r/2);return s>t?(n[0]=a[0]/s,n[1]=a[1]/s,n[2]=a[2]/s):(n[0]=1,n[1]=0,n[2]=0),r}function w(t,n,a){const r=n[0],s=n[1],e=n[2],o=n[3],c=a[0],u=a[1],f=a[2],i=a[3];return t[0]=r*i+o*c+s*f-e*u,t[1]=s*i+o*u+e*c-r*f,t[2]=e*i+o*f+r*u-s*c,t[3]=o*i-r*c-s*u-e*f,t}function z(n,a,r,s){const e=a[0],o=a[1],c=a[2],u=a[3];let f,i,h,M,l,_=r[0],m=r[1],q=r[2],p=r[3];return i=e*_+o*m+c*q+u*p,i<0&&(i=-i,_=-_,m=-m,q=-q,p=-p),1-i>t?(f=Math.acos(i),h=Math.sin(f),M=Math.sin((1-s)*f)/h,l=Math.sin(s*f)/h):(M=1-s,l=s),n[0]=M*e+l*_,n[1]=M*o+l*m,n[2]=M*c+l*q,n[3]=M*u+l*p,n}function O(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t}function T(t,n){const a=n[0]+n[4]+n[8];let r;if(a>0)r=Math.sqrt(a+1),t[3]=.5*r,r=.5/r,t[0]=(n[5]-n[7])*r,t[1]=(n[6]-n[2])*r,t[2]=(n[1]-n[3])*r;else{let a=0;n[4]>n[0]&&(a=1),n[8]>n[3*a+a]&&(a=2);const s=(a+1)%3,e=(a+2)%3;r=Math.sqrt(n[3*a+a]-n[3*s+s]-n[3*e+e]+1),t[a]=.5*r,r=.5/r,t[3]=(n[3*s+e]-n[3*e+s])*r,t[s]=(n[3*s+a]+n[3*a+s])*r,t[e]=(n[3*e+a]+n[3*a+e])*r}return t}function V(t,n,a,r){const s=.5*Math.PI/180;n*=s,a*=s,r*=s;const e=Math.sin(n),o=Math.cos(n),c=Math.sin(a),u=Math.cos(a),f=Math.sin(r),i=Math.cos(r);return t[0]=e*u*i-o*c*f,t[1]=o*c*i+e*u*f,t[2]=o*u*f-e*c*i,t[3]=o*u*i+e*c*f,t}Object.freeze({__proto__:null,create:P,clone:d,fromValues:function(t,n,a,r){return[t,n,a,r]},createView:b,IDENTITY:j});const E=n,L=a,F=r,N=w,Y=s,v=e,D=o,J=c,K=J,Q=u,R=Q,S=f,U=i,W=h;const X=q(),Z=p(1,0,0),k=p(0,1,0);const B=[0,0,0,1],C=[0,0,0,1];const G=[1,0,0,0,1,0,0,0,1];Object.freeze({__proto__:null,identity:function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},setAxisAngle:x,getAxisAngle:y,multiply:w,rotateX:function(t,n,a){a*=.5;const r=n[0],s=n[1],e=n[2],o=n[3],c=Math.sin(a),u=Math.cos(a);return t[0]=r*u+o*c,t[1]=s*u+e*c,t[2]=e*u-s*c,t[3]=o*u-r*c,t},rotateY:function(t,n,a){a*=.5;const r=n[0],s=n[1],e=n[2],o=n[3],c=Math.sin(a),u=Math.cos(a);return t[0]=r*u-e*c,t[1]=s*u+o*c,t[2]=e*u+r*c,t[3]=o*u-s*c,t},rotateZ:function(t,n,a){a*=.5;const r=n[0],s=n[1],e=n[2],o=n[3],c=Math.sin(a),u=Math.cos(a);return t[0]=r*u+s*c,t[1]=s*u-r*c,t[2]=e*u+o*c,t[3]=o*u-e*c,t},calculateW:function(t,n){const a=n[0],r=n[1],s=n[2];return t[0]=a,t[1]=r,t[2]=s,t[3]=Math.sqrt(Math.abs(1-a*a-r*r-s*s)),t},slerp:z,random:function(t){const n=I(),a=I(),r=I(),s=Math.sqrt(1-n),e=Math.sqrt(n);return t[0]=s*Math.sin(2*Math.PI*a),t[1]=s*Math.cos(2*Math.PI*a),t[2]=e*Math.sin(2*Math.PI*r),t[3]=e*Math.cos(2*Math.PI*r),t},invert:function(t,n){const a=n[0],r=n[1],s=n[2],e=n[3],o=a*a+r*r+s*s+e*e,c=o?1/o:0;return t[0]=-a*c,t[1]=-r*c,t[2]=-s*c,t[3]=e*c,t},conjugate:O,fromMat3:T,fromEuler:V,str:function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},copy:E,set:L,add:F,mul:N,scale:Y,dot:v,lerp:D,length:J,len:K,squaredLength:Q,sqrLen:R,normalize:S,exactEquals:U,equals:W,rotationTo:function(t,n,a){const r=M(n,a);return r<-.999999?(l(X,Z,n),_(X)<1e-6&&l(X,k,n),m(X,X),x(t,X,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(l(X,n,a),t[0]=X[0],t[1]=X[1],t[2]=X[2],t[3]=1+r,S(t,t))},sqlerp:function(t,n,a,r,s,e){return z(B,n,s,e),z(C,a,r,e),z(t,B,C,2*e*(1-e)),t},setAxes:function(t,n,a,r){const s=G;return s[0]=a[0],s[3]=a[1],s[6]=a[2],s[1]=r[0],s[4]=r[1],s[7]=r[2],s[2]=-n[0],s[5]=-n[1],s[8]=-n[2],S(t,T(t,s))}});export{V as C,x as I,U as N,y as P,A as a,b,j as c,P as e,d as n,g as t,w as v,O as w};
