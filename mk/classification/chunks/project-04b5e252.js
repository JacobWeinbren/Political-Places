import{aC as t,ek as e,Z as r,_ as o,a0 as s,c8 as a,ej as n,dv as i,e4 as f,C as m}from"../main.js";function p(e){return{geometryType:t(e[0]),geometries:e.map((t=>t.toJSON()))}}function u(t,r,o){const s=e(r);return t.map((t=>{const e=s.fromJSON(t);return e.spatialReference=o,e}))}let c=class extends a{constructor(t){super(t),this.geometries=null,this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const e=this.geometries.map((function(t){return t.toJSON()})),r=this.geometries[0],o={};return o.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),o.inSR=r.spatialReference.wkid||JSON.stringify(r.spatialReference.toJSON()),o.geometries=JSON.stringify({geometryType:t(r),geometries:e}),this.transformation&&(o.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(o.transformForward=this.transformForward),o}};r([o()],c.prototype,"geometries",void 0),r([o({json:{read:{source:"outSR"}}})],c.prototype,"outSpatialReference",void 0),r([o()],c.prototype,"transformation",void 0),r([o()],c.prototype,"transformForward",void 0),c=r([s("esri.rest.support.ProjectParameters")],c);const l=c,S=n(l);async function d(e,r,o){r=S(r);const s=i(e),a={...s.query,f:"json",...r.toJSON()},n=r.outSpatialReference,p=t(r.geometries[0]),c=f(a,o);return m(s.path+"/project",c).then((({data:{geometries:t}})=>u(t,p,n)))}export{l as a,d as n,u as o,p as r};
