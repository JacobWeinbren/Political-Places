import{e_ as t,eU as n,eV as e,fr as r,eP as a,$ as o,a7 as s,e$ as c}from"../main.js";import{a as u,r as i,s as h,l as f,_ as M,j as l,x as _,q as m,g as p,D as q,E as I}from"./vec4-6deae784.js";function d(){return[1,0,0,0,1,0,0,0,1]}function A(t,n){return new Float64Array(t,n,9)}function P(){return[0,0,0,1]}function g(t){return[t[0],t[1],t[2],t[3]]}function j(t,n){return new Float64Array(t,n,4)}Object.freeze({__proto__:null,create:d,clone:function(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},fromValues:function(t,n,e,r,a,o,s,c,u){return[t,n,e,r,a,o,s,c,u]},createView:A});const x=[0,0,0,1];function b(t,n,e){e*=.5;const r=Math.sin(e);return t[0]=r*n[0],t[1]=r*n[1],t[2]=r*n[2],t[3]=Math.cos(e),t}function y(n,e){const r=2*Math.acos(e[3]),a=Math.sin(r/2);return a>t?(n[0]=e[0]/a,n[1]=e[1]/a,n[2]=e[2]/a):(n[0]=1,n[1]=0,n[2]=0),r}function V(t,n,e){const r=n[0],a=n[1],o=n[2],s=n[3],c=e[0],u=e[1],i=e[2],h=e[3];return t[0]=r*h+s*c+a*i-o*u,t[1]=a*h+s*u+o*c-r*i,t[2]=o*h+s*i+r*u-a*c,t[3]=s*h-r*c-a*u-o*i,t}function w(n,e,r,a){const o=e[0],s=e[1],c=e[2],u=e[3];let i,h,f,M,l,_=r[0],m=r[1],p=r[2],q=r[3];return h=o*_+s*m+c*p+u*q,h<0&&(h=-h,_=-_,m=-m,p=-p,q=-q),1-h>t?(i=Math.acos(h),f=Math.sin(i),M=Math.sin((1-a)*i)/f,l=Math.sin(a*i)/f):(M=1-a,l=a),n[0]=M*o+l*_,n[1]=M*s+l*m,n[2]=M*c+l*p,n[3]=M*u+l*q,n}function z(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t}function E(t,n){const e=n[0]+n[4]+n[8];let r;if(e>0)r=Math.sqrt(e+1),t[3]=.5*r,r=.5/r,t[0]=(n[5]-n[7])*r,t[1]=(n[6]-n[2])*r,t[2]=(n[1]-n[3])*r;else{let e=0;n[4]>n[0]&&(e=1),n[8]>n[3*e+e]&&(e=2);const a=(e+1)%3,o=(e+2)%3;r=Math.sqrt(n[3*e+e]-n[3*a+a]-n[3*o+o]+1),t[e]=.5*r,r=.5/r,t[3]=(n[3*a+o]-n[3*o+a])*r,t[a]=(n[3*a+e]+n[3*e+a])*r,t[o]=(n[3*o+e]+n[3*e+o])*r}return t}function O(t,n,e,r){const a=.5*Math.PI/180;n*=a,e*=a,r*=a;const o=Math.sin(n),s=Math.cos(n),c=Math.sin(e),u=Math.cos(e),i=Math.sin(r),h=Math.cos(r);return t[0]=o*u*h-s*c*i,t[1]=s*c*h+o*u*i,t[2]=s*u*i-o*c*h,t[3]=s*u*h+o*c*i,t}Object.freeze({__proto__:null,create:P,clone:g,fromValues:function(t,n,e,r){return[t,n,e,r]},createView:j,IDENTITY:x});const T=u,v=i,D=h,F=V,L=f,Y=M,$=l,N=_,U=N,W=m,X=W,Z=p,k=q,B=I;const C=o(),G=s(1,0,0),H=s(0,1,0);const J=[0,0,0,1],K=[0,0,0,1];const Q=[1,0,0,0,1,0,0,0,1];Object.freeze({__proto__:null,identity:function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},setAxisAngle:b,getAxisAngle:y,multiply:V,rotateX:function(t,n,e){e*=.5;const r=n[0],a=n[1],o=n[2],s=n[3],c=Math.sin(e),u=Math.cos(e);return t[0]=r*u+s*c,t[1]=a*u+o*c,t[2]=o*u-a*c,t[3]=s*u-r*c,t},rotateY:function(t,n,e){e*=.5;const r=n[0],a=n[1],o=n[2],s=n[3],c=Math.sin(e),u=Math.cos(e);return t[0]=r*u-o*c,t[1]=a*u+s*c,t[2]=o*u+r*c,t[3]=s*u-a*c,t},rotateZ:function(t,n,e){e*=.5;const r=n[0],a=n[1],o=n[2],s=n[3],c=Math.sin(e),u=Math.cos(e);return t[0]=r*u+a*c,t[1]=a*u-r*c,t[2]=o*u+s*c,t[3]=s*u-o*c,t},calculateW:function(t,n){const e=n[0],r=n[1],a=n[2];return t[0]=e,t[1]=r,t[2]=a,t[3]=Math.sqrt(Math.abs(1-e*e-r*r-a*a)),t},slerp:w,random:function(t){const n=c(),e=c(),r=c(),a=Math.sqrt(1-n),o=Math.sqrt(n);return t[0]=a*Math.sin(2*Math.PI*e),t[1]=a*Math.cos(2*Math.PI*e),t[2]=o*Math.sin(2*Math.PI*r),t[3]=o*Math.cos(2*Math.PI*r),t},invert:function(t,n){const e=n[0],r=n[1],a=n[2],o=n[3],s=e*e+r*r+a*a+o*o,c=s?1/s:0;return t[0]=-e*c,t[1]=-r*c,t[2]=-a*c,t[3]=o*c,t},conjugate:z,fromMat3:E,fromEuler:O,str:function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},copy:T,set:v,add:D,mul:F,scale:L,dot:Y,lerp:$,length:N,len:U,squaredLength:W,sqrLen:X,normalize:Z,exactEquals:k,equals:B,rotationTo:function(t,o,s){const c=n(o,s);return c<-.999999?(e(C,G,o),r(C)<1e-6&&e(C,H,o),a(C,C),b(t,C,Math.PI),t):c>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(e(C,o,s),t[0]=C[0],t[1]=C[1],t[2]=C[2],t[3]=1+c,Z(t,t))},sqlerp:function(t,n,e,r,a,o){return w(J,n,a,o),w(K,e,r,o),w(t,J,K,2*o*(1-o)),t},setAxes:function(t,n,e,r){const a=Q;return a[0]=e[0],a[3]=e[1],a[6]=e[2],a[1]=r[0],a[4]=r[1],a[7]=r[2],a[2]=-n[0],a[5]=-n[1],a[8]=-n[2],Z(t,E(t,a))}});export{b as A,O as C,y as I,k as N,V as P,d as a,j as b,x as c,P as e,g as r,A as t,z as w};
