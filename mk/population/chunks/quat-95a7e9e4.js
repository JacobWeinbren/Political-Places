import{fj as t,fk as n,fl as r,fm as a,eS as e,$ as s,a7 as o,fn as c}from"../main.js";import{a as u,r as i,s as f,l as h,_ as M,j as l,x as m,q as _,g as p,D as q,E as I}from"./vec4-0a6ab9c0.js";function j(){return[1,0,0,0,1,0,0,0,1]}function A(t,n){return new Float64Array(t,n,9)}function b(){return[0,0,0,1]}function d(t){return[t[0],t[1],t[2],t[3]]}function g(t,n){return new Float64Array(t,n,4)}Object.freeze({__proto__:null,create:j,clone:function(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},fromValues:function(t,n,r,a,e,s,o,c,u){return[t,n,r,a,e,s,o,c,u]},createView:A});const x=[0,0,0,1];function P(t,n,r){r*=.5;const a=Math.sin(r);return t[0]=a*n[0],t[1]=a*n[1],t[2]=a*n[2],t[3]=Math.cos(r),t}function y(n,r){const a=2*Math.acos(r[3]),e=Math.sin(a/2);return e>t?(n[0]=r[0]/e,n[1]=r[1]/e,n[2]=r[2]/e):(n[0]=1,n[1]=0,n[2]=0),a}function w(t,n,r){const a=n[0],e=n[1],s=n[2],o=n[3],c=r[0],u=r[1],i=r[2],f=r[3];return t[0]=a*f+o*c+e*i-s*u,t[1]=e*f+o*u+s*c-a*i,t[2]=s*f+o*i+a*u-e*c,t[3]=o*f-a*c-e*u-s*i,t}function z(n,r,a,e){const s=r[0],o=r[1],c=r[2],u=r[3];let i,f,h,M,l,m=a[0],_=a[1],p=a[2],q=a[3];return f=s*m+o*_+c*p+u*q,f<0&&(f=-f,m=-m,_=-_,p=-p,q=-q),1-f>t?(i=Math.acos(f),h=Math.sin(i),M=Math.sin((1-e)*i)/h,l=Math.sin(e*i)/h):(M=1-e,l=e),n[0]=M*s+l*m,n[1]=M*o+l*_,n[2]=M*c+l*p,n[3]=M*u+l*q,n}function E(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t}function V(t,n){const r=n[0]+n[4]+n[8];let a;if(r>0)a=Math.sqrt(r+1),t[3]=.5*a,a=.5/a,t[0]=(n[5]-n[7])*a,t[1]=(n[6]-n[2])*a,t[2]=(n[1]-n[3])*a;else{let r=0;n[4]>n[0]&&(r=1),n[8]>n[3*r+r]&&(r=2);const e=(r+1)%3,s=(r+2)%3;a=Math.sqrt(n[3*r+r]-n[3*e+e]-n[3*s+s]+1),t[r]=.5*a,a=.5/a,t[3]=(n[3*e+s]-n[3*s+e])*a,t[e]=(n[3*e+r]+n[3*r+e])*a,t[s]=(n[3*s+r]+n[3*r+s])*a}return t}function O(t,n,r,a){const e=.5*Math.PI/180;n*=e,r*=e,a*=e;const s=Math.sin(n),o=Math.cos(n),c=Math.sin(r),u=Math.cos(r),i=Math.sin(a),f=Math.cos(a);return t[0]=s*u*f-o*c*i,t[1]=o*c*f+s*u*i,t[2]=o*u*i-s*c*f,t[3]=o*u*f+s*c*i,t}Object.freeze({__proto__:null,create:b,clone:d,fromValues:function(t,n,r,a){return[t,n,r,a]},createView:g,IDENTITY:x});const T=u,v=i,D=f,F=w,L=h,Y=M,k=l,N=m,S=N,W=_,X=W,Z=p,$=q,B=I;const C=s(),G=o(1,0,0),H=o(0,1,0);const J=[0,0,0,1],K=[0,0,0,1];const Q=[1,0,0,0,1,0,0,0,1];Object.freeze({__proto__:null,identity:function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},setAxisAngle:P,getAxisAngle:y,multiply:w,rotateX:function(t,n,r){r*=.5;const a=n[0],e=n[1],s=n[2],o=n[3],c=Math.sin(r),u=Math.cos(r);return t[0]=a*u+o*c,t[1]=e*u+s*c,t[2]=s*u-e*c,t[3]=o*u-a*c,t},rotateY:function(t,n,r){r*=.5;const a=n[0],e=n[1],s=n[2],o=n[3],c=Math.sin(r),u=Math.cos(r);return t[0]=a*u-s*c,t[1]=e*u+o*c,t[2]=s*u+a*c,t[3]=o*u-e*c,t},rotateZ:function(t,n,r){r*=.5;const a=n[0],e=n[1],s=n[2],o=n[3],c=Math.sin(r),u=Math.cos(r);return t[0]=a*u+e*c,t[1]=e*u-a*c,t[2]=s*u+o*c,t[3]=o*u-s*c,t},calculateW:function(t,n){const r=n[0],a=n[1],e=n[2];return t[0]=r,t[1]=a,t[2]=e,t[3]=Math.sqrt(Math.abs(1-r*r-a*a-e*e)),t},slerp:z,random:function(t){const n=c(),r=c(),a=c(),e=Math.sqrt(1-n),s=Math.sqrt(n);return t[0]=e*Math.sin(2*Math.PI*r),t[1]=e*Math.cos(2*Math.PI*r),t[2]=s*Math.sin(2*Math.PI*a),t[3]=s*Math.cos(2*Math.PI*a),t},invert:function(t,n){const r=n[0],a=n[1],e=n[2],s=n[3],o=r*r+a*a+e*e+s*s,c=o?1/o:0;return t[0]=-r*c,t[1]=-a*c,t[2]=-e*c,t[3]=s*c,t},conjugate:E,fromMat3:V,fromEuler:O,str:function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},copy:T,set:v,add:D,mul:F,scale:L,dot:Y,lerp:k,length:N,len:S,squaredLength:W,sqrLen:X,normalize:Z,exactEquals:$,equals:B,rotationTo:function(t,s,o){const c=n(s,o);return c<-.999999?(r(C,G,s),a(C)<1e-6&&r(C,H,s),e(C,C),P(t,C,Math.PI),t):c>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(r(C,s,o),t[0]=C[0],t[1]=C[1],t[2]=C[2],t[3]=1+c,Z(t,t))},sqlerp:function(t,n,r,a,e,s){return z(J,n,e,s),z(K,r,a,s),z(t,J,K,2*s*(1-s)),t},setAxes:function(t,n,r,a){const e=Q;return e[0]=r[0],e[3]=r[1],e[6]=r[2],e[1]=a[0],e[4]=a[1],e[7]=a[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],Z(t,V(t,e))}});export{P as A,O as C,y as I,$ as N,w as P,b as a,x as b,g as c,j as e,d as r,A as t,E as w};
