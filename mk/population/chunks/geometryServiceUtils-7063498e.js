import{q as e,e as r,by as t}from"../main.js";import{a as n,n as o}from"./project-da517e89.js";async function i(n=null,o){var i,a;if(e.geometryServiceUrl)return e.geometryServiceUrl;if(!n)throw new r("internal:geometry-service-url-not-configured");let l;l="portal"in n?n.portal||t.getDefault():n,await l.load({signal:o});const c=null==(i=l.helperServices)||null==(a=i.geometry)?void 0:a.url;if(!c)throw new r("internal:geometry-service-url-not-configured");return c}async function a(e,t,a=null,l){const c=await i(a,l),s=new n;s.geometries=[e],s.outSpatialReference=t;const u=await o(c,s,{signal:l});if(u&&Array.isArray(u)&&1===u.length)return u[0];throw new r("internal:geometry-service-projection-failed")}export{i as getGeometryServiceURL,a as projectGeometry};
