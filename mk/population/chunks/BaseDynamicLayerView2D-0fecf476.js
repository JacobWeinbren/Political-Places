import{s as t,j as e,Z as i,_ as r,a0 as a}from"../main.js";import{t as s}from"./BitmapContainer-9862a2a0.js";import{f as o,u as n}from"./LayerView-de5b4b81.js";import{S as m}from"./ExportStrategy-56300b16.js";import{i as p}from"./RefreshableLayerView-c2e0606d.js";import"./WGLContainer-c2de1b8f.js";import"./enums-23145ba2.js";import"./pixelUtils-07299408.js";import"./Container-82e53333.js";import"./VertexArrayObject-f8d16690.js";import"./Texture-5f8b05e1.js";import"./VertexElementDescriptor-8df85f96.js";import"./enums-35498f65.js";import"./Utils-c08a2f63.js";import"./number-5bcfe158.js";import"./ProgramTemplate-851a81c4.js";import"./StyleDefinition-17b4b563.js";import"./config-39daa94e.js";import"./GeometryUtils-a028e364.js";import"./MaterialKey-d541ae9c.js";import"./alignmentUtils-24585d5f.js";import"./earcut-4b9fe621.js";import"./Bitmap-ddeaf877.js";const d=t.getLogger("esri.views.2d.layers.BaseDynamicLayerView2D");let h=class extends(p(o(n))){update(t){this.strategy.update(t).catch((t=>{e(t)||d.error(t)})),this.notifyChange("updating")}attach(){this._bitmapContainer=new s,this.container.addChild(this._bitmapContainer),this.strategy=new m({container:this._bitmapContainer,fetchSource:this.fetchBitmapData.bind(this),requestUpdate:this.requestUpdate.bind(this)})}detach(){this.strategy.destroy(),this.strategy=null,this.container.removeChild(this._bitmapContainer),this._bitmapContainer.removeAllChildren()}moveStart(){}viewChange(){}moveEnd(){this.requestUpdate()}fetchBitmapData(t,e,i){return this.layer.fetchImage(t,e,i)}async doRefresh(){this.requestUpdate()}isUpdating(){return this.strategy.updating||this.updateRequested}};i([r()],h.prototype,"strategy",void 0),i([r()],h.prototype,"updating",void 0),h=i([a("esri.views.2d.layers.BaseDynamicLayerView2D")],h);const c=h;export{c as default};
