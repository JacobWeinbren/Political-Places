import{t as r}from"./ShaderCompiler-ef61a73e.js";var a=class{constructor(r){this._programCacheByTemplate=new Map,this._rctx=r}dispose(){this._programCacheByTemplate.forEach((r=>r.programs.forEach((r=>r.dispose())))),this._programCacheByTemplate=null}getProgram(a,e){return this._programCacheByTemplate.has(a)||this.addProgramTemplate(a,(e=>r(this._rctx,a,e))),this.getProgramTemplateInstance(a,e)}addProgramTemplate(r,a){this._programCacheByTemplate.set(r,{constructor:a,programs:new Map})}getProgramTemplateInstance(r,a){const e=this._programCacheByTemplate.get(r);if(e){const r=a?JSON.stringify(a):"default";if(!e.programs.has(r)){const t=e.constructor(a);e.programs.set(r,t)}return e.programs.get(r)}return null}};export{a as s};
