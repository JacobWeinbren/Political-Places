import{fY as t,fZ as n,fw as a,f_ as r,f$ as s,g0 as e,g1 as o,g2 as c,g3 as u,g4 as i,g5 as f,g6 as h,fp as M,fq as l,g7 as g,fl as _,a3 as q,A as m,g8 as p}from"../main.js";function A(){return[1,0,0,0,1,0,0,0,1]}function I(t,n){return new Float64Array(t,n,9)}function d(){return[0,0,0,1]}function P(t){return[t[0],t[1],t[2],t[3]]}function b(t,n){return new Float64Array(t,n,4)}Object.freeze({__proto__:null,create:A,clone:function(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},fromValues:function(t,n,a,r,s,e,o,c,u){return[t,n,a,r,s,e,o,c,u]},createView:I});const j=[0,0,0,1];function w(t,n,a){a*=.5;const r=Math.sin(a);return t[0]=r*n[0],t[1]=r*n[1],t[2]=r*n[2],t[3]=Math.cos(a),t}function x(n,a){const r=2*Math.acos(a[3]),s=Math.sin(r/2);return s>t?(n[0]=a[0]/s,n[1]=a[1]/s,n[2]=a[2]/s):(n[0]=1,n[1]=0,n[2]=0),r}function y(t,n,a){const r=n[0],s=n[1],e=n[2],o=n[3],c=a[0],u=a[1],i=a[2],f=a[3];return t[0]=r*f+o*c+s*i-e*u,t[1]=s*f+o*u+e*c-r*i,t[2]=e*f+o*i+r*u-s*c,t[3]=o*f-r*c-s*u-e*i,t}function z(n,a,r,s){const e=a[0],o=a[1],c=a[2],u=a[3];let i,f,h,M,l,g=r[0],_=r[1],q=r[2],m=r[3];return f=e*g+o*_+c*q+u*m,f<0&&(f=-f,g=-g,_=-_,q=-q,m=-m),1-f>t?(i=Math.acos(f),h=Math.sin(i),M=Math.sin((1-s)*i)/h,l=Math.sin(s*i)/h):(M=1-s,l=s),n[0]=M*e+l*g,n[1]=M*o+l*_,n[2]=M*c+l*q,n[3]=M*u+l*m,n}function V(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t}function E(t,n){const a=n[0]+n[4]+n[8];let r;if(a>0)r=Math.sqrt(a+1),t[3]=.5*r,r=.5/r,t[0]=(n[5]-n[7])*r,t[1]=(n[6]-n[2])*r,t[2]=(n[1]-n[3])*r;else{let a=0;n[4]>n[0]&&(a=1),n[8]>n[3*a+a]&&(a=2);const s=(a+1)%3,e=(a+2)%3;r=Math.sqrt(n[3*a+a]-n[3*s+s]-n[3*e+e]+1),t[a]=.5*r,r=.5/r,t[3]=(n[3*s+e]-n[3*e+s])*r,t[s]=(n[3*s+a]+n[3*a+s])*r,t[e]=(n[3*e+a]+n[3*a+e])*r}return t}function O(t,n,a,r){const s=.5*Math.PI/180;n*=s,a*=s,r*=s;const e=Math.sin(n),o=Math.cos(n),c=Math.sin(a),u=Math.cos(a),i=Math.sin(r),f=Math.cos(r);return t[0]=e*u*f-o*c*i,t[1]=o*c*f+e*u*i,t[2]=o*u*i-e*c*f,t[3]=o*u*f+e*c*i,t}Object.freeze({__proto__:null,create:d,clone:P,fromValues:function(t,n,a,r){return[t,n,a,r]},createView:b,IDENTITY:j});const T=n,Y=a,F=r,L=y,Z=s,v=e,D=o,N=c,W=N,X=u,$=X,k=i,B=f,C=h;const G=q(),H=m(1,0,0),J=m(0,1,0);const K=[0,0,0,1],Q=[0,0,0,1];const R=[1,0,0,0,1,0,0,0,1];Object.freeze({__proto__:null,identity:function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},setAxisAngle:w,getAxisAngle:x,multiply:y,rotateX:function(t,n,a){a*=.5;const r=n[0],s=n[1],e=n[2],o=n[3],c=Math.sin(a),u=Math.cos(a);return t[0]=r*u+o*c,t[1]=s*u+e*c,t[2]=e*u-s*c,t[3]=o*u-r*c,t},rotateY:function(t,n,a){a*=.5;const r=n[0],s=n[1],e=n[2],o=n[3],c=Math.sin(a),u=Math.cos(a);return t[0]=r*u-e*c,t[1]=s*u+o*c,t[2]=e*u+r*c,t[3]=o*u-s*c,t},rotateZ:function(t,n,a){a*=.5;const r=n[0],s=n[1],e=n[2],o=n[3],c=Math.sin(a),u=Math.cos(a);return t[0]=r*u+s*c,t[1]=s*u-r*c,t[2]=e*u+o*c,t[3]=o*u-e*c,t},calculateW:function(t,n){const a=n[0],r=n[1],s=n[2];return t[0]=a,t[1]=r,t[2]=s,t[3]=Math.sqrt(Math.abs(1-a*a-r*r-s*s)),t},slerp:z,random:function(t){const n=p(),a=p(),r=p(),s=Math.sqrt(1-n),e=Math.sqrt(n);return t[0]=s*Math.sin(2*Math.PI*a),t[1]=s*Math.cos(2*Math.PI*a),t[2]=e*Math.sin(2*Math.PI*r),t[3]=e*Math.cos(2*Math.PI*r),t},invert:function(t,n){const a=n[0],r=n[1],s=n[2],e=n[3],o=a*a+r*r+s*s+e*e,c=o?1/o:0;return t[0]=-a*c,t[1]=-r*c,t[2]=-s*c,t[3]=e*c,t},conjugate:V,fromMat3:E,fromEuler:O,str:function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},copy:T,set:Y,add:F,mul:L,scale:Z,dot:v,lerp:D,length:N,len:W,squaredLength:X,sqrLen:$,normalize:k,exactEquals:B,equals:C,rotationTo:function(t,n,a){const r=M(n,a);return r<-.999999?(l(G,H,n),g(G)<1e-6&&l(G,J,n),_(G,G),w(t,G,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(l(G,n,a),t[0]=G[0],t[1]=G[1],t[2]=G[2],t[3]=1+r,k(t,t))},sqlerp:function(t,n,a,r,s,e){return z(K,n,s,e),z(Q,a,r,e),z(t,K,Q,2*e*(1-e)),t},setAxes:function(t,n,a,r){const s=R;return s[0]=a[0],s[3]=a[1],s[6]=a[2],s[1]=r[0],s[4]=r[1],s[7]=r[2],s[2]=-n[0],s[5]=-n[1],s[8]=-n[2],k(t,E(t,s))}});export{O as C,w as I,B as N,x as P,A as a,j as b,b as c,d as e,P as n,I as t,y as v,V as w};
