import{s as t,j as e,Z as i,_ as r,a0 as a}from"../main.js";import{t as s}from"./BitmapContainer-d236bc3d.js";import{f as o,u as n}from"./LayerView-bd7ec411.js";import{S as p}from"./ExportStrategy-3761539c.js";import{i as m}from"./RefreshableLayerView-4e2e6ef8.js";import"./WGLContainer-e5b769fe.js";import"./enums-1bc10a6c.js";import"./pixelUtils-5a36ade0.js";import"./Container-8f96c744.js";import"./VertexArrayObject-47d07736.js";import"./Texture-1175e9f5.js";import"./VertexElementDescriptor-3277c87e.js";import"./enums-873d3e5a.js";import"./Utils-4efd2b2d.js";import"./ProgramTemplate-28d6e1e9.js";import"./StyleDefinition-3f884fc8.js";import"./config-0f36ebd6.js";import"./GeometryUtils-dd2125c2.js";import"./MaterialKey-37656b1a.js";import"./earcut-a218cde0.js";import"./Bitmap-95c55ca6.js";const d=t.getLogger("esri.views.2d.layers.BaseDynamicLayerView2D");let h=class extends(m(o(n))){update(t){this.strategy.update(t).catch((t=>{e(t)||d.error(t)})),this.notifyChange("updating")}attach(){this._bitmapContainer=new s,this.container.addChild(this._bitmapContainer),this.strategy=new p({container:this._bitmapContainer,fetchSource:this.fetchBitmapData.bind(this),requestUpdate:this.requestUpdate.bind(this)})}detach(){this.strategy.destroy(),this.strategy=null,this.container.removeChild(this._bitmapContainer),this._bitmapContainer.removeAllChildren()}moveStart(){}viewChange(){}moveEnd(){this.requestUpdate()}fetchBitmapData(t,e,i){return this.layer.fetchImage(t,e,i)}async doRefresh(){this.requestUpdate()}isUpdating(){return this.strategy.updating||this.updateRequested}};i([r()],h.prototype,"strategy",void 0),i([r()],h.prototype,"updating",void 0),h=i([a("esri.views.2d.layers.BaseDynamicLayerView2D")],h);const c=h;export{c as default};
