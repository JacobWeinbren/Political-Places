import{cp as e,r as t,c3 as n}from"../main.js";function a(e,t){return t?"xoffset"in t&&t.xoffset?Math.max(e,Math.abs(t.xoffset)):"yoffset"in t&&t.yoffset?Math.max(e,Math.abs(t.yoffset||0)):e:e}function r(e,t){return"number"==typeof e?e:e&&e.stops&&e.stops.length?function(e){let t=0,n=0;for(let a=0;a<e.length;a++){const r=e[a].size;"number"==typeof r&&(t+=r,n++)}return t/n}(e.stops):t}function s(e,t){if(!t)return e;const n=t.filter((e=>"size"===e.type)).map((t=>{const{maxSize:n,minSize:a}=t;return(r(n,e)+r(a,e))/2}));let a=0;const s=n.length;if(0===s)return e;for(let e=0;e<s;e++)a+=n[e];const i=Math.floor(a/s);return Math.max(i,e)}function i(e){const t=e&&e.renderer,n="touch"===(e&&e.event&&e.event.pointerType)?9:6;if(!t)return n;const r="visualVariables"in t?s(n,t.visualVariables):n;if("simple"===t.type)return a(r,t.symbol);if("unique-value"===t.type){let e=r;return t.uniqueValueInfos.forEach((t=>{e=a(e,t.symbol)})),e}if("class-breaks"===t.type){let e=r;return t.classBreakInfos.forEach((t=>{e=a(e,t.symbol)})),e}return t.type,r}function o(a,r,s,i=new e){let o;if("2d"===s.type)o=r*s.resolution;else if("3d"===s.type){const e=s.overlayPixelSizeInMapUnits(a),i=s.basemapSpatialReference;o=t(i)&&!i.equals(s.spatialReference)?n(i)/n(s.spatialReference):r*e}const f=a.x-o,l=a.y-o,u=a.x+o,c=a.y+o,{spatialReference:p}=s;return i.xmin=Math.min(f,u),i.ymin=Math.min(l,c),i.xmax=Math.max(f,u),i.ymax=Math.max(l,c),i.spatialReference=p,i}new e;export{o as a,i as s};
