import{s as t,j as e,Z as i,_ as a,a0 as r}from"../main.js";import{t as s}from"./BitmapContainer-9c2cbeb4.js";import{f as o,u as n}from"./LayerView-2a9200ad.js";import{S as m}from"./ExportStrategy-260c902b.js";import{i as p}from"./RefreshableLayerView-e6cd22bf.js";import"./WGLContainer-13b2f2d5.js";import"./enums-154d47de.js";import"./pixelUtils-ea0d20a1.js";import"./Container-4f30f201.js";import"./VertexArrayObject-a92d69a3.js";import"./Texture-8b92d5d4.js";import"./VertexElementDescriptor-d5c236cd.js";import"./enums-7acaa04d.js";import"./Utils-be23a2c6.js";import"./number-b530ed41.js";import"./ProgramTemplate-6ba228e0.js";import"./StyleDefinition-3db9be87.js";import"./config-dc0b399b.js";import"./GeometryUtils-ba0d6a93.js";import"./MaterialKey-c7d0c6a2.js";import"./alignmentUtils-3fedcae3.js";import"./earcut-9a1bd483.js";import"./Bitmap-ef87b0e0.js";const d=t.getLogger("esri.views.2d.layers.BaseDynamicLayerView2D");let h=class extends(p(o(n))){update(t){this.strategy.update(t).catch((t=>{e(t)||d.error(t)})),this.notifyChange("updating")}attach(){this._bitmapContainer=new s,this.container.addChild(this._bitmapContainer),this.strategy=new m({container:this._bitmapContainer,fetchSource:this.fetchBitmapData.bind(this),requestUpdate:this.requestUpdate.bind(this)})}detach(){this.strategy.destroy(),this.strategy=null,this.container.removeChild(this._bitmapContainer),this._bitmapContainer.removeAllChildren()}moveStart(){}viewChange(){}moveEnd(){this.requestUpdate()}fetchBitmapData(t,e,i){return this.layer.fetchImage(t,e,i)}async doRefresh(){this.requestUpdate()}isUpdating(){return this.strategy.updating||this.updateRequested}};i([a()],h.prototype,"strategy",void 0),i([a()],h.prototype,"updating",void 0),h=i([r("esri.views.2d.layers.BaseDynamicLayerView2D")],h);const c=h;export{c as default};
