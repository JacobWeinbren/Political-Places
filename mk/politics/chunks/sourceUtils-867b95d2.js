import{gn as e,eV as n,go as t,gp as i,gq as r,bl as s}from"../main.js";class o{constructor(){this.code=null,this.description=null}}class a{constructor(e){this.error=new o,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=e}}function l(e){return new a(e)}class u{constructor(e){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=e}}function c(e){return new u(e)}const d=new Set;function f(e,n,t,s=!1,o){d.clear();for(const a in t){const u=e.get(a);if(!u)continue;const c=t[a],f=g(u,c);if(f!==c&&o&&o.push({name:"invalid-value-type",message:"attribute value was converted to match the field type",details:{field:u,originalValue:c,sanitizedValue:f}}),d.add(u.name),u&&(s||u.editable)){const e=i(u,f);if(e)return l(r(e,u,f));n[u.name]=f}}for(const n of e.requiredFields)if(!d.has(n.name))return l(`missing required field "${n.name}"`);return null}function g(i,r){let s=r;return"string"==typeof r&&e(i)?s=parseFloat(r):null!=r&&n(i)&&"string"!=typeof r&&(s=String(r)),t(s)}let h;function m(e,n){if(!e||!s(n))return e;if("rings"in e||"paths"in e){if(!h)throw new TypeError("geometry engine not loaded");return h.simplify(n,e)}return e}async function p(e,n){!s(e)||"esriGeometryPolygon"!==n&&"esriGeometryPolyline"!==n||await async function(){return h||(h=await import("./geometryEngineJSON-06a19a6c.js"),h)}()}export{c,f as d,m as h,l as u,p as y};
